(window.webpackJsonpimgrank=window.webpackJsonpimgrank||[]).push([[0],{1133:function(e,t,n){var a={"./test.json":1134};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1133},1134:function(e){e.exports=JSON.parse('[{"reference_images":["http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/7650788d440e663f3218.jpg","http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/e74ac9b286cfb4aebdd9.jpg","http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/487ef7c87a7e6b67f390.jpg"],"images_to_rank":["http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/61b17526e8d012907b28.jpg","http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/e6507fc2ba3e568fba93.jpg","http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/185187a655c432e977ae.jpg","http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/8e69df33730b59af2bcc.jpg","http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/2872f439755736f4d912.jpg"],"order":[[2],[3],[4],[1],[0]],"common":"interact.v.01"},{"reference_images":["http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/7650788d440e663f3218.jpg","http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/e74ac9b286cfb4aebdd9.jpg","http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/487ef7c87a7e6b67f390.jpg"],"images_to_rank":["http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/e44c47ab572c2a10a009.jpg","http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/738b7b4c002c0882ebf9.jpg","http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/5aa4022b1b75ac21835f.jpg","http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/fde09390bc54b46fba19.jpg","http://cybertron.cg.tu-berlin.de/xiwang/indeterminacy/likesN/5f8c19b4d40b83a84ea0.jpg"],"order":[[2],[3],[4],[1],[0]],"common":"interact.v.01"}]')},1170:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(41),o=n.n(i),s=(n(538),n(1202)),c=(n(539),n(202)),l=n(95),d=n(527),m=Object(d.a)({typography:{fontFamily:'"Montserrat", sans-serif'}}),u=n(133),g=n(134),p=n(137),h=n(135),f=n(138),b=n(27),v=n(528),y=n(1195),w=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.titleSection},r.a.createElement(v.a,{variant:"h4",className:e.title},"Image Rank"),r.a.createElement(v.a,{variant:"h5",className:e.subtitle},"Rank the images according to how interest they are!")),r.a.createElement("div",{className:e.descriptionSection},r.a.createElement(v.a,{variant:"h4",className:e.descriptionTitle},"How To Play:"),r.a.createElement(v.a,{variant:"h5",className:e.descriptionTitle},"You will be shown a set of 5 images. Your task is to rank the images from most to least interesting. You will need to:"),r.a.createElement(v.a,{variant:"h4",className:e.descriptionTitle},"Guidelines:"),r.a.createElement(v.a,{variant:"h5",className:e.descriptionTitle},"Order 5 images by how interesting each of them is to you. ",r.a.createElement("b",null,"Drag")," the images around to order them!")),r.a.createElement("div",{className:e.buttonSection},r.a.createElement(c.b,{to:{pathname:"/game",search:this.props.location.search},style:{textDecoration:"none"}},r.a.createElement(y.a,{variant:"contained",size:"large",className:e.startButton},"START"))))}}]),t}(a.Component),k=Object(b.a)((function(e){return{root:{display:"flex",justifyContent:"space-around",alignItems:"center",flexDirection:"column",width:"100%"},buttonSection:{display:"flex",paddingBottom:16},centerVideo:{display:"flex",width:960,height:720,justifyContent:"center"},descriptionSection:{display:"flex",padding:16,height:"65%",width:"100vw",flexDirection:"column",alignItems:"center"},descriptionTitle:{paddingBottom:16},imageContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:300,width:380},singleStep:{width:"30%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},startButton:{borderRadius:16,fontSize:36,width:570,paddingLeft:32,paddingRight:32},stepSection:{display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"flex-start",paddingBottom:24},stepText:{fontSize:24},subtitle:{width:"70%",fontSize:36,paddingBottom:36},title:{fontSize:72,paddingBottom:16},titleSection:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:16}}}))(w),E=n(198),j=n(53),x=n(206),O=n(1201),N=n(1199),S=n(1197),I=n(521),C=n(208),_=n(1200),R=n(1196),D=n(1198),B=n(203),T=n.n(B),P=function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},helpButton:Object(j.a)({position:"absolute",bottom:0,left:"85%",backgroundColor:"#e0e0e0",color:"#000000"},e.breakpoints.down("md"),{position:"relative",left:"0%",marginTop:16})}},L=Object(b.a)(P)((function(e){var t=e.children,n=e.classes,a=e.onClose;return r.a.createElement(R.a,{disableTypography:!0,className:n.root},r.a.createElement(v.a,{variant:"h6"},t),a?r.a.createElement(S.a,{"aria-label":"close",className:n.closeButton,onClick:a},r.a.createElement(T.a,null)):null)})),V=Object(b.a)((function(e){return{root:{padding:e.spacing(2)}}}))(D.a),H=Object(b.a)(P)((function(e){var t=r.a.useState(!1),n=Object(x.a)(t,2),a=n[0],i=n[1],o=e.classes,s=function(){i(!1)};return r.a.createElement("div",null,r.a.createElement(y.a,{className:o.helpButton,variant:"contained",onClick:function(){i(!0)}},"Help/Instructions"),r.a.createElement(_.a,{onClose:s,"aria-labelledby":"customized-dialog-title",open:a},r.a.createElement(L,{id:"customized-dialog-title",onClose:s},"How to Play Image Rank"),r.a.createElement(V,{dividers:!0},r.a.createElement(v.a,{gutterBottom:!0},"You are shown 3 reference images (top row), and a set of 5 unknown images (bottom row). Your task is to rank the unknown images from most to least interesting images. You will need to:"),r.a.createElement(v.a,{gutterBottom:!0},"1. Order 5 unknown images by how interesting each is. Drag the unknown images around to order them!"),r.a.createElement(v.a,{gutterBottom:!0},'2. Click "NEXT" when you have complete the ranking and are ready to move to the next level!'))))})),z=(n(546),n(526)),M=n.n(z),F=n(110),W=n.n(F);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var U="vigilance",A=2,J=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({userSelect:"none",padding:16,margin:"0 ".concat(8,"px 0 0"),background:e?"lightgreen":"#000000",opacity:.9,borderRadius:8},t)},G=(n(300),function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(h.a)(t).call(this,e)))._handleClick=function(){var e=n.state.sets[n.state.currentLevel-1];if(e.human_ordering=n.state.ordering,e.common==U)for(var t=0;t<e.order.length;t++)if(1==e.order[t].length){var a=e.order[t][0],r=e.images_to_rank[a];r!==n.state.ordering[t]?n.state.wrong_vigilants.includes(r)||n.state.wrong_vigilants.push(r):n.state.wrong_vigilants.includes(r)&&(n.state.wrong_vigilants=n.state.wrong_vigilants.filter((function(e){return e!==r})))}n.state.result.length>=n.state.currentLevel?n.state.result[n.state.currentLevel-1]=e:n.state.result.push(e),100!==n.state.percent?n.setState({currentLevel:n.state.currentLevel+1,percent:Math.round(Math.min((n.state.currentLevel+1)/A*100,100))},(function(){return n.updateVideos()})):n.submitHITform()},n._handleSnackbarClose=function(){n.setState({snackbarOpen:!1})},n.state={snackbarOpen:!1,snackBarMsg:"",disabled:!1,currentLevel:1,sets:[],percent:Math.round(Math.min(1/A*100,100)),refVideos:{},unknownVideos:{},ordering:[],result:[],groundTruth:[],workerId:n.gup("workerId")||"dummy_id",chances:1,wrong_vigilants:[],timer:Date.now(),common_ancestor:"",classes:[]},n.onDragEnd=n.onDragEnd.bind(Object(E.a)(n)),n}return Object(f.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=n(1133)("./"+this.gup("task")+".json");this.setState({sets:t},(function(){return e.updateVideos()}))}},{key:"updateVideos",value:function(){var e=this.state.sets[this.state.currentLevel-1],t=e.images_to_rank,n={};e.images_to_rank.forEach((function(e){return n[e]=e})),this.state.result.length>=this.state.currentLevel&&(t=this.state.result[this.state.currentLevel-1].human_ordering),this.setState({refVideos:e.reference_images,unknownVideos:n,ordering:t,groundTruth:e.order,common_ancestor:e.common,classes:e.classes})}},{key:"gup",value:function(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=window.location.href,a=t.exec(n);return null==a?"":a[1]}},{key:"retrieveRefVid",value:function(){return this.state.refVideos}},{key:"retrieveUnknownVid",value:function(){return this.state.unknownVideos}},{key:"onDragEnd",value:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),i=Object(x.a)(r,1)[0];return a.splice(n,0,i),a}(this.state.ordering,e.source.index,e.destination.index);this.setState({ordering:t})}}},{key:"addHiddenField",value:function(e,t,n){var a=W()("<input type='hidden' name='"+t+"' value=''>");a.val(n),e.append(a)}},{key:"submitHITform",value:function(){var e=this.state.wrong_vigilants.length;if(e>1){var t="There are "+e+" rankings that are clearly wrong, which we check to make sure the task is done properly. Please press the back button to correct these mistakes. You will not be allowed to submit until you do so.";this._handleSnackbarOpen(t)}else{this.setState({disabled:!0});var n=decodeURIComponent(this.gup("turkSubmitTo"))+"/mturk/externalSubmit",a=W()("#submit-form");console.log("Gup output for assignmentId, workerId:",this.gup("assignmentId"),this.gup("workerId")),this.addHiddenField(a,"assignmentId",this.gup("assignmentId")),this.addHiddenField(a,"workerId",this.gup("workerId")),this.addHiddenField(a,"taskTime",(Date.now()-this.state.timer)/1e3),this.addHiddenField(a,"feedback",W()("#feedback-input").val());var r={outputs:this.state.result};this.addHiddenField(a,"results",JSON.stringify(r)),W()("#submit-form").attr("action",n),W()("#submit-form").attr("method","POST"),W()("#submit-form").submit()}}},{key:"_handleSnackbarOpen",value:function(e){this.setState({snackbarOpen:!0,snackbarMsg:e})}},{key:"render",value:function(){var e=this,t=this.props.classes,n=["Least Interesting","Less Interesting","Interesting","More Interesting","Most Interesting"];return r.a.createElement("div",{className:t.root},r.a.createElement(v.a,{variant:"h3"},"Image Rank"),r.a.createElement("div",{className:t.progressSection},r.a.createElement(v.a,{variant:"h5"},"Progress: ",this.state.currentLevel," / ",A),r.a.createElement(I.Progress,{percent:this.state.percent,theme:{active:{symbol:this.state.percent+"%",color:"green"},success:{symbol:this.state.percent+"%",color:"green"}}})),r.a.createElement("div",{className:t.videoSection},r.a.createElement(v.a,{variant:"h5"},"Reference Images"),r.a.createElement(v.a,{variant:"h6"},"From least to most Interesting"),!1,r.a.createElement("div",{className:t.referenceSection},r.a.createElement("div",{className:t.referenceBackground},Object.keys(this.state.refVideos).map((function(n){return r.a.createElement("div",{className:t.videoContainerRef},r.a.createElement("img",{ref:n,src:e.state.refVideos[n],type:"video/mp4",className:t.videoPlayerRef}),!1)}))))),r.a.createElement("div",{className:t.videoSection},r.a.createElement(v.a,{variant:"h5"},"Unknown Images"),r.a.createElement("div",{className:t.unknownSection},r.a.createElement(C.a,{onDragEnd:this.onDragEnd},r.a.createElement(C.c,{droppableId:"droppable",direction:"horizontal"},(function(a,i){return r.a.createElement("div",Object.assign({ref:a.innerRef,style:(o=i.isDraggingOver,{background:o?"gray":"\t#E0E0E2",display:"flex",padding:8,overflow:"auto",width:1600,borderRadius:8})},a.droppableProps),e.state.ordering.map((function(a,i){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(C.b,{key:a,draggableId:a,index:i},(function(o,s){return r.a.createElement("div",Object.assign({ref:o.innerRef},o.draggableProps,o.dragHandleProps,{style:J(s.isDragging,o.draggableProps.style)}),r.a.createElement("div",{className:t.videoContainer},r.a.createElement("img",{src:e.state.unknownVideos[a],className:t.videoPlayerUnknown})),!1,!1,r.a.createElement(v.a,{variant:"h5",style:{color:"white"}},n[i]))}))))})));var o}))))),r.a.createElement("div",{className:t.buttonSection},r.a.createElement(y.a,{variant:"contained",disabled:this.state.disabled,className:t.nextButton,onClick:this._handleClick},100===this.state.percent?"FINISH":"NEXT"),100===this.state.percent?r.a.createElement("div",{className:t.feedbackArea},r.a.createElement(v.a,null,"Any feedback?"),r.a.createElement("textarea",{className:t.feedbackBox,id:"feedback-input",rows:"2"})):r.a.createElement(r.a.Fragment,null),r.a.createElement(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackbarOpen,autoHideDuration:5e3,onClose:this._handleSnackbarClose,style:{flexWrap:"nowrap!important"}},r.a.createElement(N.a,{className:t.snackbarError,message:r.a.createElement("span",{id:"client-snackbar",style:{display:"flex",alignItems:"center",flexWrap:"nowrap"}},r.a.createElement(M.a,{style:{opacity:.9,marginRight:8,fontSize:24}}),this.state.snackbarMsg),action:[r.a.createElement(S.a,{key:"close","aria-label":"Close",className:"icon-button-close",onClick:this._handleSnackbarClose},r.a.createElement(T.a,{style:{color:"white"}}))]})),r.a.createElement(H,{className:t.helpButton})),r.a.createElement("form",{id:"submit-form",name:"submit-form"}))}}]),t}(a.Component)),X=Object(b.a)((function(e){var t,n;return{root:{display:"flex",width:"100vw",height:"100vh",alignItems:"center",flexDirection:"column",justifyContent:"space-evenly"},backButton:Object(j.a)({borderRadius:16,fontSize:36,width:256,maxWidth:"60%",paddingLeft:16,paddingRight:16,marginRight:16},e.breakpoints.down("md"),{marginRight:0,marginTop:8,marginBottom:8}),buttonSection:Object(j.a)({display:"flex",position:"relative",width:"100%",justifyContent:"center"},e.breakpoints.down("md"),{flexDirection:"column",alignItems:"center"}),nextButton:Object(j.a)({borderRadius:16,fontSize:36,width:256,maxWidth:"60%",paddingLeft:16,paddingRight:16,marginRight:16},e.breakpoints.down("md"),{marginRight:0,marginTop:8,marginBottom:8}),feedbackArea:Object(j.a)({width:256,marginBottom:16},e.breakpoints.down("md"),{marginTop:8,marginBottom:8}),feedbackBox:{width:"100%"},progressSection:{display:"flex",flexDirection:"column",justifyContent:"center",width:"70%"},rankingText:{paddingLeft:32,paddingRight:32},rankingTextSection:{display:"flex",width:1396,justifyContent:"space-between"},referenceBackground:{background:"#E0E0E2",display:"flex",borderRadius:8,padding:8,justifyContent:"center",alignItems:"center"},referenceSection:{display:"flex",flexDirection:"row",maxWidth:"100%",justifyContent:"flex-start",overflow:"auto"},snackbarError:{flexWrap:"nowrap!important",backgroundColor:"#a31f34!important"},videoPlayerRef:Object(j.a)({width:260},e.breakpoints.down("md"),{width:240}),videoPlayerUnknown:Object(j.a)({width:260,zIndex:-1},e.breakpoints.down("md"),{width:240}),videoContainer:(t={display:"flex",justifyContent:"center",alignItems:"center",width:280,height:260},Object(j.a)(t,e.breakpoints.down("md"),{width:240,height:135}),Object(j.a)(t,"overflow","hidden"),t),videoContainerRef:(n={display:"flex",justifyContent:"center",alignItems:"center",width:300,height:320,paddingLeft:8,paddingRight:8},Object(j.a)(n,e.breakpoints.down("md"),{width:240,height:135}),Object(j.a)(n,"overflow","hidden"),n),videoSection:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},unknownSection:{display:"flex",flexDirection:"row",width:"100%",overflow:"scroll",justifyContent:"center"}}}))(G),$=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.titleSection},r.a.createElement(v.a,{variant:"h2",className:e.title},"You are done! Thank you for playing Image Rank!")),r.a.createElement("form",{id:"submit-form",name:"submit-form"}))}}]),t}(a.Component);var q=function(){return r.a.createElement(c.a,{basename:"/imgrank"},r.a.createElement(s.a,{theme:m},r.a.createElement("div",{className:"App"},r.a.createElement(l.a,{exact:!0,path:"/",component:k}),r.a.createElement(l.a,{path:"/game",component:X}),r.a.createElement(l.a,{path:"/finish",component:$}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},328:function(e,t){},533:function(e,t,n){e.exports=n(1170)},538:function(e,t,n){},539:function(e,t,n){},597:function(e,t){},598:function(e,t){},683:function(e,t){},685:function(e,t){},696:function(e,t){},698:function(e,t){},729:function(e,t){},730:function(e,t){},791:function(e,t){}},[[533,1,2]]]);
//# sourceMappingURL=main.bf88caf1.chunk.js.map